{"ast":null,"code":"import _objectSpread from\"C:/Users/djnin/Web Dev Projects/BirdieTracker v3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:/Users/djnin/Web Dev Projects/BirdieTracker v3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/djnin/Web Dev Projects/BirdieTracker v3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/djnin/Web Dev Projects/BirdieTracker v3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/djnin/Web Dev Projects/BirdieTracker v3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/djnin/Web Dev Projects/BirdieTracker v3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import DatePicker from'react-datepicker';import\"react-datepicker/dist/react-datepicker.css\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditCourse=/*#__PURE__*/function(_Component){_inherits(EditCourse,_Component);var _super=_createSuper(EditCourse);function EditCourse(props){var _this;_classCallCheck(this,EditCourse);_this=_super.call(this,props);_this.onAddHole=function(){_this.setState({holes:_this.state.holes.concat([{par:3}])});};_this.onRemoveHole=function(idx){return function(){_this.setState({holes:_this.state.holes.filter(function(s,sidx){return idx!==sidx;})});};};_this.onChangeHoles=function(idx){return function(e){var newHoles=_this.state.holes.map(function(hole,sidx){if(idx!==sidx)return hole;return _objectSpread(_objectSpread({},hole),{},{par:e.target.value});});_this.setState(function(state){return _objectSpread(_objectSpread({},state),{},{holes:newHoles});},function(){//callback function to ensure state is updated before elements are rendered\n});};};_this.onChangeName=_this.onChangeName.bind(_assertThisInitialized(_this));_this.onChangeLocation=_this.onChangeLocation.bind(_assertThisInitialized(_this));_this.onChangeHoles=_this.onChangeHoles.bind(_assertThisInitialized(_this));_this.onAddHole=_this.onAddHole.bind(_assertThisInitialized(_this));_this.onRemoveHole=_this.onRemoveHole.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));_this.state={name:'',location:'',holes:[],par:0};return _this;}_createClass(EditCourse,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;//get currrent course data to populate state variables\naxios.get('https://birdie-tracker.herokuapp.com/courses/'+this.props.match.params.id).then(function(response){_this2.setState({name:response.data.name,location:response.data.location,holes:response.data.holes,par:response.data.par});}).catch(function(error){console.log(error);});}//triggered by user changing course name in the select field\n},{key:\"onChangeName\",value:function onChangeName(e){this.setState({name:e.target.value});}//triggered by the user changing location in the select field\n},{key:\"onChangeLocation\",value:function onChangeLocation(e){this.setState({location:e.target.value});}//triggered when user clicks \"add hole\" button\n},{key:\"onSubmit\",value:function onSubmit(e){var _this3=this;e.preventDefault();//calculate the total par for the entire course\nvar temp=0;for(var i=0;i<this.state.holes.length;i++){temp=temp+parseInt(this.state.holes[i].par);}//store the total par in the state and then save the updated course object\nthis.setState(function(state){return _objectSpread(_objectSpread({},state),{},{par:temp});},function(){//callback function to ensure state is updated before elements are rendered\nvar course={name:_this3.state.name,location:_this3.state.location,holes:_this3.state.holes,par:_this3.state.par};axios.post('https://birdie-tracker.herokuapp.com/courses/update/'+_this3.props.match.params.id,course).then(function(res){return console.log(res.data);}).catch(function(error){console.log(error);});//redirect the user back to the course list page\nwindow.location='https://birdie-tracker.netlify.app/courselist';});}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Change Courses\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,className:\"form-control\",value:this.state.name,onChange:this.onChangeName})]}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Location: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,className:\"form-control\",value:this.state.location,onChange:this.onChangeLocation})]}),this.state.holes.map(function(hole,idx){return/*#__PURE__*/_jsxs(\"div\",{className:\"hole\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:hole.par,onChange:_this4.onChangeHoles(idx)}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:_this4.onRemoveHole(idx),className:\"small\",children:\"-\"})]},hole._id);}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:this.onAddHole,className:\"small\",children:\"Add Hole\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit Changes\",className:\"btn btn-primary\"})})]})]});}}]);return EditCourse;}(Component);export{EditCourse as default};","map":{"version":3,"sources":["C:/Users/djnin/Web Dev Projects/BirdieTracker v3/frontend/src/components/edit-course.component.js"],"names":["React","Component","DatePicker","axios","EditCourse","props","onAddHole","setState","holes","state","concat","par","onRemoveHole","idx","filter","s","sidx","onChangeHoles","e","newHoles","map","hole","target","value","onChangeName","bind","onChangeLocation","onSubmit","name","location","get","match","params","id","then","response","data","catch","error","console","log","preventDefault","temp","i","length","parseInt","course","post","res","window","_id"],"mappings":"+hCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,UAAP,KAAuB,kBAAvB,CACA,MAAO,4CAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,2FAEqBC,CAAAA,U,wGAEjB,oBAAYC,KAAZ,CAAmB,4CACf,uBAAMA,KAAN,EADe,MAkDnBC,SAlDmB,CAkDP,UAAM,CACd,MAAKC,QAAL,CAAc,CACVC,KAAK,CAAE,MAAKC,KAAL,CAAWD,KAAX,CAAiBE,MAAjB,CAAwB,CAAC,CAACC,GAAG,CAAE,CAAN,CAAD,CAAxB,CADG,CAAd,EAGH,CAtDkB,OAyDnBC,YAzDmB,CAyDJ,SAAAC,GAAG,QAAI,WAAM,CACxB,MAAKN,QAAL,CAAc,CACVC,KAAK,CAAE,MAAKC,KAAL,CAAWD,KAAX,CAAiBM,MAAjB,CAAwB,SAACC,CAAD,CAAIC,IAAJ,QAAaH,CAAAA,GAAG,GAAKG,IAArB,EAAxB,CADG,CAAd,EAGH,CAJiB,EAzDC,OAgEnBC,aAhEmB,CAgEH,SAAAJ,GAAG,QAAI,UAAAK,CAAC,CAAI,CACxB,GAAMC,CAAAA,QAAQ,CAAG,MAAKV,KAAL,CAAWD,KAAX,CAAiBY,GAAjB,CAAqB,SAACC,IAAD,CAAOL,IAAP,CAAgB,CAClD,GAAIH,GAAG,GAAKG,IAAZ,CAAkB,MAAOK,CAAAA,IAAP,CAClB,sCAAWA,IAAX,MAAiBV,GAAG,CAAEO,CAAC,CAACI,MAAF,CAASC,KAA/B,GACH,CAHgB,CAAjB,CAKA,MAAKhB,QAAL,CAAc,SAAAE,KAAK,wCAASA,KAAT,MAAgBD,KAAK,CAAEW,QAAvB,IAAnB,CAAsD,UAAM,CACxD;AACH,CAFD,EAGH,CATkB,EAhEA,CAGf,MAAKK,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,gBAAL,CAAwB,MAAKA,gBAAL,CAAsBD,IAAtB,+BAAxB,CACA,MAAKR,aAAL,CAAqB,MAAKA,aAAL,CAAmBQ,IAAnB,+BAArB,CACA,MAAKnB,SAAL,CAAiB,MAAKA,SAAL,CAAemB,IAAf,+BAAjB,CACA,MAAKb,YAAL,CAAoB,MAAKA,YAAL,CAAkBa,IAAlB,+BAApB,CACA,MAAKE,QAAL,CAAgB,MAAKA,QAAL,CAAcF,IAAd,+BAAhB,CAEA,MAAKhB,KAAL,CAAa,CACTmB,IAAI,CAAE,EADG,CAETC,QAAQ,CAAE,EAFD,CAGTrB,KAAK,CAAE,EAHE,CAITG,GAAG,CAAE,CAJI,CAAb,CAVe,aAgBlB,C,wDAED,4BAAoB,iBAEhB;AACAR,KAAK,CAAC2B,GAAN,CAAU,gDAAgD,KAAKzB,KAAL,CAAW0B,KAAX,CAAiBC,MAAjB,CAAwBC,EAAlF,EACCC,IADD,CACM,SAAAC,QAAQ,CAAI,CACd,MAAI,CAAC5B,QAAL,CAAc,CACVqB,IAAI,CAAEO,QAAQ,CAACC,IAAT,CAAcR,IADV,CAEVC,QAAQ,CAAEM,QAAQ,CAACC,IAAT,CAAcP,QAFd,CAGVrB,KAAK,CAAE2B,QAAQ,CAACC,IAAT,CAAc5B,KAHX,CAIVG,GAAG,CAAEwB,QAAQ,CAACC,IAAT,CAAczB,GAJT,CAAd,EAMH,CARD,EASC0B,KATD,CASO,SAAUC,KAAV,CAAiB,CACpBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACH,CAXD,EAYH,CAED;4BACA,sBAAapB,CAAb,CAAgB,CACZ,KAAKX,QAAL,CAAc,CACVqB,IAAI,CAAEV,CAAC,CAACI,MAAF,CAASC,KADL,CAAd,EAGH,CAED;gCACA,0BAAiBL,CAAjB,CAAoB,CAChB,KAAKX,QAAL,CAAc,CACVsB,QAAQ,CAAEX,CAAC,CAACI,MAAF,CAASC,KADT,CAAd,EAGH,CAED;wBA0BA,kBAASL,CAAT,CAAY,iBACRA,CAAC,CAACuB,cAAF,GAEA;AACA,GAAIC,CAAAA,IAAI,CAAG,CAAX,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAG,KAAKlC,KAAL,CAAWD,KAAX,CAAiBoC,MAArC,CAA6CD,CAAC,EAA9C,CAAkD,CAC9CD,IAAI,CAAGA,IAAI,CAAGG,QAAQ,CAAC,KAAKpC,KAAL,CAAWD,KAAX,CAAiBmC,CAAjB,EAAoBhC,GAArB,CAAtB,CACH,CAED;AACA,KAAKJ,QAAL,CAAc,SAAAE,KAAK,wCAASA,KAAT,MAAgBE,GAAG,CAAE+B,IAArB,IAAnB,CAAgD,UAAM,CAClD;AAEA,GAAMI,CAAAA,MAAM,CAAG,CACXlB,IAAI,CAAE,MAAI,CAACnB,KAAL,CAAWmB,IADN,CAEXC,QAAQ,CAAE,MAAI,CAACpB,KAAL,CAAWoB,QAFV,CAGXrB,KAAK,CAAE,MAAI,CAACC,KAAL,CAAWD,KAHP,CAIXG,GAAG,CAAE,MAAI,CAACF,KAAL,CAAWE,GAJL,CAAf,CAOAR,KAAK,CAAC4C,IAAN,CAAW,uDAAuD,MAAI,CAAC1C,KAAL,CAAW0B,KAAX,CAAiBC,MAAjB,CAAwBC,EAA1F,CAA8Fa,MAA9F,EACCZ,IADD,CACM,SAAAc,GAAG,QAAIT,CAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAG,CAACZ,IAAhB,CAAJ,EADT,EAECC,KAFD,CAEO,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAJD,EAMA;AACAW,MAAM,CAACpB,QAAP,CAAkB,+CAAlB,CACH,CAlBD,EAmBH,C,sBAED,iBAAS,iBACL,mBACA,oCACE,sCADF,cAEE,cAAM,QAAQ,CAAE,KAAKF,QAArB,wBACM,aAAK,SAAS,CAAC,YAAf,wBACA,iCADA,cAEA,cAAQ,IAAI,CAAC,MAAb,CACI,QAAQ,KADZ,CAEI,SAAS,CAAC,cAFd,CAGI,KAAK,CAAE,KAAKlB,KAAL,CAAWmB,IAHtB,CAII,QAAQ,CAAE,KAAKJ,YAJnB,EAFA,GADN,cAUE,cAVF,cAaE,aAAK,SAAS,CAAC,YAAf,wBACE,qCADF,cAEE,cAAQ,IAAI,CAAC,MAAb,CACI,QAAQ,KADZ,CAEI,SAAS,CAAC,cAFd,CAGI,KAAK,CAAE,KAAKf,KAAL,CAAWoB,QAHtB,CAII,QAAQ,CAAE,KAAKH,gBAJnB,EAFF,GAbF,CAuBG,KAAKjB,KAAL,CAAWD,KAAX,CAAiBY,GAAjB,CAAqB,SAACC,IAAD,CAAOR,GAAP,qBAClB,aAAK,SAAS,CAAC,MAAf,wBACI,cACI,IAAI,CAAC,QADT,CAEI,KAAK,CAAEQ,IAAI,CAACV,GAFhB,CAGI,QAAQ,CAAE,MAAI,CAACM,aAAL,CAAmBJ,GAAnB,CAHd,EADJ,cAMI,eACI,IAAI,CAAG,QADX,CAEI,OAAO,CAAE,MAAI,CAACD,YAAL,CAAkBC,GAAlB,CAFb,CAGI,SAAS,CAAC,OAHd,eANJ,GAA2BQ,IAAI,CAAC6B,GAAhC,CADkB,EAArB,CAvBH,cAuCE,eACI,IAAI,CAAC,QADT,CAEI,OAAO,CAAE,KAAK5C,SAFlB,CAGI,SAAS,CAAC,OAHd,sBAvCF,cA+CE,YAAK,SAAS,CAAC,YAAf,uBACE,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,gBAA3B,CAA4C,SAAS,CAAC,iBAAtD,EADF,EA/CF,GAFF,GADA,CAwDD,C,wBArKiCL,S,SAAnBG,U","sourcesContent":["import React, { Component} from 'react';\r\nimport DatePicker from 'react-datepicker';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport axios from 'axios';\r\n\r\nexport default class EditCourse extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.onChangeName = this.onChangeName.bind(this);\r\n        this.onChangeLocation = this.onChangeLocation.bind(this);\r\n        this.onChangeHoles = this.onChangeHoles.bind(this);\r\n        this.onAddHole = this.onAddHole.bind(this);\r\n        this.onRemoveHole = this.onRemoveHole.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n\r\n        this.state = {\r\n            name: '',\r\n            location: '',\r\n            holes: [],\r\n            par: 0,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        //get currrent course data to populate state variables\r\n        axios.get('https://birdie-tracker.herokuapp.com/courses/'+this.props.match.params.id)\r\n        .then(response => {\r\n            this.setState({\r\n                name: response.data.name,\r\n                location: response.data.location,\r\n                holes: response.data.holes,\r\n                par: response.data.par,\r\n            })\r\n        })\r\n        .catch(function (error) {\r\n            console.log(error);\r\n        })\r\n    }\r\n\r\n    //triggered by user changing course name in the select field\r\n    onChangeName(e) {\r\n        this.setState({\r\n            name: e.target.value\r\n        })\r\n    }\r\n\r\n    //triggered by the user changing location in the select field\r\n    onChangeLocation(e) {\r\n        this.setState({\r\n            location: e.target.value\r\n        })\r\n    }\r\n\r\n    //triggered when user clicks \"add hole\" button\r\n    onAddHole = () => {\r\n        this.setState({\r\n            holes: this.state.holes.concat([{par: 3}])\r\n        })\r\n    }\r\n\r\n    //triggered by user clicking \"-\" button to remove a hole\r\n    onRemoveHole = idx => () => {\r\n        this.setState({\r\n            holes: this.state.holes.filter((s, sidx) => idx !== sidx)\r\n        })\r\n    }\r\n\r\n    //triggered by user changing the par value of a single hole\r\n    onChangeHoles = idx => e => {\r\n        const newHoles = this.state.holes.map((hole, sidx) => {\r\n            if (idx !== sidx) return hole;\r\n            return {...hole, par: e.target.value };\r\n        });\r\n\r\n        this.setState(state => ({...state, holes: newHoles}), () => {\r\n            //callback function to ensure state is updated before elements are rendered\r\n        });\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        //calculate the total par for the entire course\r\n        let temp = 0;\r\n        for (let i = 0; i < this.state.holes.length; i++) {\r\n            temp = temp + parseInt(this.state.holes[i].par);\r\n        }\r\n\r\n        //store the total par in the state and then save the updated course object\r\n        this.setState(state => ({...state, par: temp}), () => {\r\n            //callback function to ensure state is updated before elements are rendered\r\n        \r\n            const course = {\r\n                name: this.state.name,\r\n                location: this.state.location,\r\n                holes: this.state.holes,\r\n                par: this.state.par \r\n            }\r\n    \r\n            axios.post('https://birdie-tracker.herokuapp.com/courses/update/'+this.props.match.params.id, course)\r\n            .then(res => console.log(res.data))\r\n            .catch((error) => {\r\n              console.log(error);\r\n            })\r\n    \r\n            //redirect the user back to the course list page\r\n            window.location = 'https://birdie-tracker.netlify.app/courselist';\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n        <div>\r\n          <h3>Change Courses</h3>\r\n          <form onSubmit={this.onSubmit}>\r\n                <div className=\"form-group\"> \r\n                <label>Name: </label>\r\n                <input  type=\"text\"\r\n                    required\r\n                    className=\"form-control\"\r\n                    value={this.state.name}\r\n                    onChange={this.onChangeName}\r\n                    />\r\n                </div>\r\n            <div>\r\n                \r\n            </div>\r\n            <div className=\"form-group\"> \r\n              <label>Location: </label>\r\n              <input  type=\"text\"\r\n                  required\r\n                  className=\"form-control\"\r\n                  value={this.state.location}\r\n                  onChange={this.onChangeLocation}\r\n                  />\r\n            </div>\r\n\r\n            {this.state.holes.map((hole, idx) => (\r\n                <div className=\"hole\" key={hole._id}>\r\n                    <input\r\n                        type=\"number\"\r\n                        value={hole.par}\r\n                        onChange={this.onChangeHoles(idx)}\r\n                    />\r\n                    <button\r\n                        type = \"button\"\r\n                        onClick={this.onRemoveHole(idx)}\r\n                        className=\"small\"\r\n                    >\r\n                        -\r\n                    </button>\r\n                </div>\r\n            ))}\r\n            <button\r\n                type=\"button\"\r\n                onClick={this.onAddHole}\r\n                className=\"small\"\r\n            >\r\n                Add Hole\r\n            </button>\r\n    \r\n            <div className=\"form-group\">\r\n              <input type=\"submit\" value=\"Submit Changes\" className=\"btn btn-primary\" />\r\n            </div>\r\n          </form>\r\n        </div>\r\n        )\r\n      }\r\n}"]},"metadata":{},"sourceType":"module"}