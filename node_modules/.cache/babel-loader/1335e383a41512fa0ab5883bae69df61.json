{"ast":null,"code":"import _classCallCheck from\"C:/Users/djnin/Web Dev Projects/BirdieTracker v3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/djnin/Web Dev Projects/BirdieTracker v3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/djnin/Web Dev Projects/BirdieTracker v3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/djnin/Web Dev Projects/BirdieTracker v3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/djnin/Web Dev Projects/BirdieTracker v3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link}from'react-router-dom';import axios from'axios';import{withAuth0}from'@auth0/auth0-react';import LoginMessage from\"./login-message.component\";import Loading from\"./loading-component\";//creates a JSX element from the given scorecard properties\n//referenced in the scorecardList() function\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Scorecard=function Scorecard(props){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:props.scorecard.username}),/*#__PURE__*/_jsx(\"td\",{children:props.scorecard.course}),/*#__PURE__*/_jsxs(\"td\",{children:[props.scorecard.score,\" / \",props.scorecard.par]}),/*#__PURE__*/_jsx(\"td\",{children:props.scorecard.date.substring(0,10)}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/editscorecard/\"+props.scorecard._id,children:\"edit\"}),\" | \",/*#__PURE__*/_jsx(\"a\",{href:\"#\",onClick:function onClick(){props.deleteScorecard(props.scorecard._id);},children:\"delete\"})]})]});};var ScorecardList=/*#__PURE__*/function(_Component){_inherits(ScorecardList,_Component);var _super=_createSuper(ScorecardList);function ScorecardList(props){var _this;_classCallCheck(this,ScorecardList);_this=_super.call(this,props);_this.state={scorecards:[]};_this.deleteScorecard=_this.deleteScorecard.bind(_assertThisInitialized(_this));return _this;}_createClass(ScorecardList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;//get the scorecard data from the server\naxios.get('https://birdie-tracker.herokuapp.com/scorecards/').then(function(response){_this2.setState({scorecards:response.data});}).catch(function(error){console.log(error);});}//sends a delete request to the server and then filters\n//the array to remove the deleted scorecard\n},{key:\"deleteScorecard\",value:function deleteScorecard(id){axios.delete('https://birdie-tracker.herokuapp.com/scorecards/'+id).then(function(res){return console.log(res.data);});this.setState({scorecards:this.state.scorecards.filter(function(el){return el._id!==id;})});}//maps each scorecard into a JSX element to be rendered\n},{key:\"scorecardList\",value:function scorecardList(){var _this3=this;var _this$props$auth=this.props.auth0,isAuthenticated=_this$props$auth.isAuthenticated,user=_this$props$auth.user;var nickname=user.nickname;if(isAuthenticated){return this.state.scorecards.map(function(currentscorecard){//only shows the scorecards for the logged in user.\nif(currentscorecard.username==nickname){return/*#__PURE__*/_jsx(Scorecard,{scorecard:currentscorecard,deleteScorecard:_this3.deleteScorecard},currentscorecard._id);}});}}},{key:\"render\",value:function render(){var _this$props$auth2=this.props.auth0,isLoading=_this$props$auth2.isLoading,isAuthenticated=_this$props$auth2.isAuthenticated;if(isLoading){return/*#__PURE__*/_jsx(Loading,{});}if(!isAuthenticated){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(LoginMessage,{})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"white_background\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Logged Scorecards\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Course\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Score\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.scorecardList()})]})]});}}]);return ScorecardList;}(Component);//export withAuth0 to allow use of user's username for the scorecard\nexport default withAuth0(ScorecardList);","map":{"version":3,"sources":["C:/Users/djnin/Web Dev Projects/BirdieTracker v3/frontend/src/components/scorecards-list.component.js"],"names":["React","Component","Link","axios","withAuth0","LoginMessage","Loading","Scorecard","props","scorecard","username","course","score","par","date","substring","_id","deleteScorecard","ScorecardList","state","scorecards","bind","get","then","response","setState","data","catch","error","console","log","id","delete","res","filter","el","auth0","isAuthenticated","user","nickname","map","currentscorecard","isLoading","scorecardList"],"mappings":"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","sourcesContent":["import React, { Component} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { withAuth0 } from '@auth0/auth0-react';\r\nimport LoginMessage from \"./login-message.component\";\r\nimport Loading from \"./loading-component\";\r\n\r\n//creates a JSX element from the given scorecard properties\r\n//referenced in the scorecardList() function\r\nconst Scorecard = props => (\r\n    <tr>\r\n      <td>{props.scorecard.username}</td>\r\n      <td>{props.scorecard.course}</td>\r\n      <td>{props.scorecard.score} / {props.scorecard.par}</td>\r\n      <td>{props.scorecard.date.substring(0,10)}</td>\r\n      <td>\r\n        <Link to={\"/editscorecard/\"+props.scorecard._id}>edit</Link> | <a href=\"#\" onClick={() => { props.deleteScorecard(props.scorecard._id) }}>delete</a>\r\n      </td>\r\n    </tr>\r\n)\r\n\r\nclass ScorecardList extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n       \r\n        this.state = {scorecards: []};\r\n        this.deleteScorecard = this.deleteScorecard.bind(this);\r\n        \r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        //get the scorecard data from the server\r\n        axios.get('https://birdie-tracker.herokuapp.com/scorecards/')\r\n        .then(response => {\r\n            this.setState({ scorecards: response.data})\r\n        })\r\n        .catch((error) => {\r\n            console.log(error);\r\n        })\r\n    }\r\n\r\n    //sends a delete request to the server and then filters\r\n    //the array to remove the deleted scorecard\r\n    deleteScorecard(id) {\r\n        axios.delete('https://birdie-tracker.herokuapp.com/scorecards/' + id)\r\n        .then(res => console.log(res.data));\r\n\r\n        this.setState({\r\n            scorecards: this.state.scorecards.filter(el => el._id !== id)\r\n        })\r\n    }\r\n\r\n    //maps each scorecard into a JSX element to be rendered\r\n   \r\n    scorecardList() {\r\n\r\n      const { isAuthenticated, user } = this.props.auth0;\r\n      const {nickname} = user;\r\n\r\n      if (isAuthenticated) {\r\n        return this.state.scorecards.map(currentscorecard => {\r\n          //only shows the scorecards for the logged in user.\r\n          if (currentscorecard.username == nickname) {\r\n            return <Scorecard scorecard={currentscorecard} deleteScorecard={this.deleteScorecard} key={currentscorecard._id}/>;\r\n          }\r\n        })\r\n      }\r\n    }\r\n\r\n    render() {\r\n\r\n      const { isLoading, isAuthenticated } = this.props.auth0;\r\n\r\n      if (isLoading) {\r\n        return <Loading />;\r\n      }\r\n\r\n      if (!isAuthenticated) { \r\n        return (\r\n            <div>\r\n              <LoginMessage/>\r\n            </div>\r\n        )\r\n      }\r\n      \r\n      return (\r\n\r\n        <div className=\"white_background\">\r\n          <h3>Logged Scorecards</h3>\r\n          <table className=\"table\">\r\n            <thead className=\"thead-light\">\r\n              <tr>\r\n                <th>Username</th>\r\n                <th>Course</th>\r\n                <th>Score</th>\r\n                <th>Date</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              { this.scorecardList() }\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )\r\n      }\r\n}\r\n\r\n//export withAuth0 to allow use of user's username for the scorecard\r\nexport default withAuth0(ScorecardList);"]},"metadata":{},"sourceType":"module"}