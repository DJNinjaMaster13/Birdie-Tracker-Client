{"ast":null,"code":"import _objectSpread from\"C:/Users/djnin/Web Dev Projects/BirdieTracker v3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:/Users/djnin/Web Dev Projects/BirdieTracker v3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/djnin/Web Dev Projects/BirdieTracker v3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/djnin/Web Dev Projects/BirdieTracker v3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/djnin/Web Dev Projects/BirdieTracker v3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/djnin/Web Dev Projects/BirdieTracker v3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import\"react-datepicker/dist/react-datepicker.css\";import axios from'axios';import{withAuth0}from'@auth0/auth0-react';import LoginMessage from\"./login-message.component\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateCourse=/*#__PURE__*/function(_Component){_inherits(CreateCourse,_Component);var _super=_createSuper(CreateCourse);function CreateCourse(props){var _this;_classCallCheck(this,CreateCourse);_this=_super.call(this,props);_this.onAddHole=function(){_this.setState({holes:_this.state.holes.concat([{par:3}])});};_this.onRemoveHole=function(idx){return function(){_this.setState({holes:_this.state.holes.filter(function(s,sidx){return idx!==sidx;})});};};_this.onChangeHoles=function(idx){return function(e){var newHoles=_this.state.holes.map(function(hole,sidx){if(idx!==sidx)return hole;return _objectSpread(_objectSpread({},hole),{},{par:e.target.value});});_this.setState(function(state){return _objectSpread(_objectSpread({},state),{},{holes:newHoles});},function(){//callback function to ensure state is updated before elements are rendered\n});};};_this.onChangeName=_this.onChangeName.bind(_assertThisInitialized(_this));_this.onChangeLocation=_this.onChangeLocation.bind(_assertThisInitialized(_this));_this.onChangeHoles=_this.onChangeHoles.bind(_assertThisInitialized(_this));_this.onAddHole=_this.onAddHole.bind(_assertThisInitialized(_this));_this.onRemoveHole=_this.onRemoveHole.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));var isAuthenticated=_this.props.auth0.isAuthenticated;_this.state={name:'',location:'',holes:[],par:0,isAuth:isAuthenticated};return _this;}_createClass(CreateCourse,[{key:\"componentDidMount\",value:function componentDidMount(){}//triggered by the user changing the course name in the select field\n},{key:\"onChangeName\",value:function onChangeName(e){this.setState({name:e.target.value});}//triggered by the user changing the location in the select field\n},{key:\"onChangeLocation\",value:function onChangeLocation(e){this.setState({location:e.target.value});}//triggered by the user clicking the \"add hole\" button\n},{key:\"onSubmit\",value:function onSubmit(e){var _this2=this;e.preventDefault();//calculate the overall par for the entire course to be stored in the state\nvar temp=0;for(var i=0;i<this.state.holes.length;i++){temp=temp+parseInt(this.state.holes[i].par);}//store the overall par score in the state\nthis.setState(function(state){return _objectSpread(_objectSpread({},state),{},{par:temp});},function(){//callback function to ensure state is updated before elements are rendered\nvar course={name:_this2.state.name,location:_this2.state.location,holes:_this2.state.holes,par:_this2.state.par};//post the course to the database\naxios.post('https://birdie-tracker.herokuapp.com/courses/add',course).then(function(res){return console.log(res.data);});//redirect back to the course list page\nwindow.location='https://birdie-tracker.netlify.app/courselist';});}},{key:\"render\",value:function render(){var _this3=this;if(!this.state.isAuth){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(LoginMessage,{})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"scorecard_elements\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile_header\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Create Course\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,className:\"form-control\",value:this.state.name,onChange:this.onChangeName})]}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Location: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,className:\"form-control\",value:this.state.location,onChange:this.onChangeLocation})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"score_boxes\",children:[this.state.holes.map(function(hole,idx){return/*#__PURE__*/_jsxs(\"div\",{className:\"hole\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:hole.par,onChange:_this3.onChangeHoles(idx)}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:_this3.onRemoveHole(idx),className:\"small\",children:\"-\"})]},hole._id);}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:this.onAddHole,className:\"small\",children:\"Add Hole\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Create Course\",className:\"btn btn-primary\"})})]})]});}}]);return CreateCourse;}(Component);export default withAuth0(CreateCourse);","map":{"version":3,"sources":["C:/Users/djnin/Web Dev Projects/BirdieTracker v3/frontend/src/components/create-course.component.js"],"names":["React","Component","axios","withAuth0","LoginMessage","CreateCourse","props","onAddHole","setState","holes","state","concat","par","onRemoveHole","idx","filter","s","sidx","onChangeHoles","e","newHoles","map","hole","target","value","onChangeName","bind","onChangeLocation","onSubmit","isAuthenticated","auth0","name","location","isAuth","preventDefault","temp","i","length","parseInt","course","post","then","res","console","log","data","window","_id"],"mappings":"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","sourcesContent":["import React, { Component} from 'react';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport axios from 'axios';\r\nimport { withAuth0 } from '@auth0/auth0-react';\r\nimport LoginMessage from \"./login-message.component\";\r\n\r\n\r\nclass CreateCourse extends Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.onChangeName = this.onChangeName.bind(this);\r\n        this.onChangeLocation = this.onChangeLocation.bind(this);\r\n        this.onChangeHoles = this.onChangeHoles.bind(this);\r\n        this.onAddHole = this.onAddHole.bind(this);\r\n        this.onRemoveHole = this.onRemoveHole.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n\r\n        const { isAuthenticated } = this.props.auth0;\r\n\r\n        this.state = {\r\n            name: '',\r\n            location: '',\r\n            holes: [],\r\n            par: 0,\r\n            isAuth: isAuthenticated\r\n        }\r\n        \r\n    }\r\n\r\n    componentDidMount() {\r\n        \r\n    }\r\n\r\n    //triggered by the user changing the course name in the select field\r\n    onChangeName(e) {\r\n        this.setState({\r\n            name: e.target.value\r\n        })\r\n    }\r\n\r\n    //triggered by the user changing the location in the select field\r\n    onChangeLocation(e) {\r\n        this.setState({\r\n            location: e.target.value\r\n        })\r\n    }\r\n\r\n    //triggered by the user clicking the \"add hole\" button\r\n    onAddHole = () => {\r\n        this.setState({\r\n            holes: this.state.holes.concat([{par: 3}])\r\n        })\r\n    }\r\n\r\n    //triggered by the user clicking the \"-\" button to remove a hole\r\n    onRemoveHole = idx => () => {\r\n        this.setState({\r\n            holes: this.state.holes.filter((s, sidx) => idx !== sidx)\r\n        })\r\n    }\r\n\r\n    //triggered if the user changes the par value for a certain hole\r\n    onChangeHoles = idx => e => {\r\n        const newHoles = this.state.holes.map((hole, sidx) => {\r\n            if (idx !== sidx) return hole;\r\n            return {...hole, par: e.target.value };\r\n        });\r\n\r\n        this.setState(state => ({...state, holes: newHoles}), () => {\r\n            //callback function to ensure state is updated before elements are rendered\r\n        });\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        //calculate the overall par for the entire course to be stored in the state\r\n        let temp = 0;\r\n        for (let i = 0; i < this.state.holes.length; i++) {\r\n            temp = temp + parseInt(this.state.holes[i].par);\r\n        }\r\n\r\n        //store the overall par score in the state\r\n        this.setState(state => ({...state, par: temp}), () => {\r\n            //callback function to ensure state is updated before elements are rendered\r\n\r\n            const course = {\r\n                name: this.state.name,\r\n                location: this.state.location,\r\n                holes: this.state.holes,\r\n                par: this.state.par            \r\n            }\r\n            \r\n            //post the course to the database\r\n            axios.post('https://birdie-tracker.herokuapp.com/courses/add', course)\r\n            .then(res => console.log(res.data));\r\n        \r\n            //redirect back to the course list page\r\n            window.location = 'https://birdie-tracker.netlify.app/courselist';\r\n        });\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        if (!this.state.isAuth) { \r\n            return (\r\n                <div>\r\n                  <LoginMessage/>\r\n                </div>\r\n            )\r\n          }\r\n\r\n        return (\r\n        <div className=\"scorecard_elements\">\r\n\r\n            <div className =\"profile_header\">\r\n                <h3>Create Course</h3>\r\n            </div>\r\n\r\n          <form onSubmit={this.onSubmit}>\r\n            <div className=\"form-group\"> \r\n                <label>Name: </label>\r\n                <input  type=\"text\"\r\n                    required\r\n                    className=\"form-control\"\r\n                    value={this.state.name}\r\n                    onChange={this.onChangeName}\r\n                    />\r\n                </div>\r\n            <div>\r\n                \r\n            </div>\r\n            <div className=\"form-group\"> \r\n              <label>Location: </label>\r\n              <input  type=\"text\"\r\n                  required\r\n                  className=\"form-control\"\r\n                  value={this.state.location}\r\n                  onChange={this.onChangeLocation}\r\n                  />\r\n            </div>\r\n\r\n            <div className=\"score_boxes\">\r\n                {this.state.holes.map((hole, idx) => (\r\n                    <div className=\"hole\" key={hole._id}>\r\n                        <input\r\n                            type=\"number\"\r\n                            value={hole.par}\r\n                            onChange={this.onChangeHoles(idx)}\r\n                        />\r\n                        <button\r\n                            type = \"button\"\r\n                            onClick={this.onRemoveHole(idx)}\r\n                            className=\"small\"\r\n                        >\r\n                            -\r\n                        </button>\r\n                    </div>\r\n                ))}\r\n            \r\n                <button\r\n                    type=\"button\"\r\n                    onClick={this.onAddHole}\r\n                    className=\"small\"\r\n                >\r\n                    Add Hole\r\n                </button>\r\n\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <input type=\"submit\" value=\"Create Course\" className=\"btn btn-primary\" />\r\n            </div>\r\n          </form>\r\n        </div>\r\n        )\r\n      }\r\n}\r\n\r\nexport default withAuth0(CreateCourse);"]},"metadata":{},"sourceType":"module"}